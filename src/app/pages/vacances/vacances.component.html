<h1>VACANCES</h1>

<button type="button" (click)="closeSession()">Cerrar Sesión</button>

<a routerLink="/login">Go to Login</a>

<form [formGroup]="vacancaForm" (ngSubmit)="guardarVacanca()">
    <div>
        <label for="nom">Nombre:</label>
        <input type="text" id="nom" formControlName="nom" required>
        <div *ngIf="vacancaForm.get('nom')!.invalid && (vacancaForm.get('nom')!.dirty || vacancaForm.get('nom')!.touched)">
            <div *ngIf="vacancaForm.get('nom')!.errors!['required']">
                El nombre es obligatorio.
            </div>
            <div *ngIf="vacancaForm.get('nom')!.errors!['minlength']">
                El nombre tiene que tener mínimo 5 caracteres.
            </div>
                </div>
    </div>

    <div>
        <label for="preu">Precio:</label>
        <input type="number" id="preu" formControlName="preu" required>
        <div *ngIf="vacancaForm.get('preu')!.invalid && (vacancaForm.get('preu')!.dirty || vacancaForm.get('preu')!.touched)">
        <div *ngIf="vacancaForm.get('preu')!.errors!['required']">
            El precio es obligatorio.
        </div>
        </div>
    </div>

    <div>
        <label for="pais">País:</label>
        <input type="text" id="pais" formControlName="pais" required>
        <div *ngIf="vacancaForm.get('pais')!.invalid && (vacancaForm.get('pais')!.dirty || vacancaForm.get('pais')!.touched)">
        <div *ngIf="vacancaForm.get('pais')!.errors!['required']">
            El país es obligatorio.
        </div>
        </div>
    </div>

    <div>
        <label for="descripcio">Descripción:</label>
        <textarea id="descripcio" formControlName="descripcio"></textarea>
    </div>
      
    <button type="submit">Guardar</button>
</form>

<a routerLink="/planificador">Ir a planificador de vacances</a>

<app-vacances-list [vacances]="vacances" (selectedVacanca)="showVacanca($event)"></app-vacances-list>

<div>
    <h2>{{vacancaSelected.nom}}</h2>
    <h3>{{vacancaSelected.preu}}</h3>
</div>

<app-adbar></app-adbar>